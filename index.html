<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Mini Games</title>

<style>
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at top, #2b0b45, #12051f);
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Arial, sans-serif;
  overflow: hidden;
}

/* Ø§Ù„ÙƒØ§Ø±Øª */
.card {
  width: 85%;
  max-width: 340px;
  height: 180px;
  background: linear-gradient(180deg, #4b1c6b, #2b0b45);
  border-radius: 22px;
  border: 3px solid gold;
  box-shadow: 0 0 15px gold, inset 0 0 10px rgba(255,215,0,.4);
  display: flex;
  align-items: center;
  justify-content: center;
  color: gold;
  font-size: 22px;
  letter-spacing: 2px;
  cursor: pointer;
  transition: transform .15s ease;
}

.card:active { transform: scale(.95); }

/* popup Ø¹Ø§Ù… */
.popup {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.75);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 99;
}

.box {
  background: linear-gradient(180deg, #3b145a, #1a062b);
  border: 2px solid gold;
  border-radius: 20px;
  width: 80%;
  max-width: 300px;
  padding: 20px;
  text-align: center;
  color: gold;
  box-shadow: 0 0 25px gold;
  animation: pop .3s ease;
}

@keyframes pop {
  from {transform: scale(.7); opacity:0;}
  to {transform: scale(1); opacity:1;}
}

.btn {
  margin-top: 15px;
  padding: 10px;
  border-radius: 12px;
  border: none;
  width: 100%;
  font-size: 16px;
  cursor: pointer;
}

.install { background: gold; color: #2b0b45; }
.skip { background: transparent; color: gold; border: 1px solid gold; }

/* ØµÙˆØª */
audio { display:none; }
</style>
</head>

<body>

<div class="card" onclick="openGame()">MINI GAMES</div>

<!-- Popup Ø§Ù„ØªØ«Ø¨ÙŠØª -->
<div class="popup" id="installPopup">
  <div class="box">
    <h3>ğŸ“² Ø­Ù…Ù‘Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</h3>
    <p>ØªØ¬Ø±Ø¨Ø© Ø£Ø³Ø±Ø¹ Ø¨Ø¯ÙˆÙ† Ù…ØªØµÙØ­</p>
    <button class="btn install" onclick="installApp()">ØªØ«Ø¨ÙŠØª</button>
    <button class="btn skip" onclick="skipInstall()">ØªØ®Ø·ÙŠ</button>
  </div>
</div>

<!-- ØµÙˆØª -->
<audio id="clickSound">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-click-1114.mp3">
</audio>

<script>
let deferredPrompt;

// Ø¥Ø¸Ù‡Ø§Ø± Popup Ø£ÙˆÙ„ ÙØªØ­ ÙÙ‚Ø·
window.onload = () => {
  if (!localStorage.getItem("skipInstall")) {
    document.getElementById("installPopup").style.display = "flex";
  }
};

// Ø§Ù„ØªÙ‚Ø§Ø· Ø­Ø¯Ø« Ø§Ù„ØªØ«Ø¨ÙŠØª
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
});

// ØªØ«Ø¨ÙŠØª
function installApp() {
  if (deferredPrompt) {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then(() => {
      deferredPrompt = null;
      closeInstall();
    });
  } else {
    alert("Ø§Ø³ØªØ®Ø¯Ù… Add to Home Screen Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­");
  }
}

// ØªØ®Ø·ÙŠ
function skipInstall() {
  localStorage.setItem("skipInstall", "1");
  closeInstall();
}

function closeInstall() {
  document.getElementById("installPopup").style.display = "none";
}

// Ù„Ø¹Ø¨Ø© ÙˆÙ‡Ù…ÙŠØ©
function openGame() {
  document.getElementById("clickSound").play();
}
</script>

</body>
  </html>
